<html>
<head>
<title>test_axis_artist.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #6897bb;}
.s4 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
test_axis_artist.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">matplotlib.pyplot </span><span class="s0">as </span><span class="s1">plt</span>
<span class="s0">from </span><span class="s1">matplotlib.testing.decorators </span><span class="s0">import </span><span class="s1">image_comparison</span>

<span class="s0">from </span><span class="s1">mpl_toolkits.axisartist </span><span class="s0">import </span><span class="s1">AxisArtistHelperRectlinear</span>
<span class="s0">from </span><span class="s1">mpl_toolkits.axisartist.axis_artist </span><span class="s0">import </span><span class="s1">(AxisArtist</span><span class="s0">, </span><span class="s1">AxisLabel</span><span class="s0">,</span>
                                                 <span class="s1">LabelBase</span><span class="s0">, </span><span class="s1">Ticks</span><span class="s0">, </span><span class="s1">TickLabels)</span>


<span class="s1">@image_comparison([</span><span class="s2">'axis_artist_ticks.png'</span><span class="s1">]</span><span class="s0">, </span><span class="s1">style=</span><span class="s2">'default'</span><span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_ticks():</span>
    <span class="s1">fig</span><span class="s0">, </span><span class="s1">ax = plt.subplots()</span>

    <span class="s1">ax.xaxis.set_visible(</span><span class="s0">False</span><span class="s1">)</span>
    <span class="s1">ax.yaxis.set_visible(</span><span class="s0">False</span><span class="s1">)</span>

    <span class="s1">locs_angles = [((i / </span><span class="s3">10</span><span class="s0">, </span><span class="s3">0.0</span><span class="s1">)</span><span class="s0">, </span><span class="s1">i * </span><span class="s3">30</span><span class="s1">) </span><span class="s0">for </span><span class="s1">i </span><span class="s0">in </span><span class="s1">range(-</span><span class="s3">1</span><span class="s0">, </span><span class="s3">12</span><span class="s1">)]</span>

    <span class="s1">ticks_in = Ticks(ticksize=</span><span class="s3">10</span><span class="s0">, </span><span class="s1">axis=ax.xaxis)</span>
    <span class="s1">ticks_in.set_locs_angles(locs_angles)</span>
    <span class="s1">ax.add_artist(ticks_in)</span>

    <span class="s1">ticks_out = Ticks(ticksize=</span><span class="s3">10</span><span class="s0">, </span><span class="s1">tick_out=</span><span class="s0">True, </span><span class="s1">color=</span><span class="s2">'C3'</span><span class="s0">, </span><span class="s1">axis=ax.xaxis)</span>
    <span class="s1">ticks_out.set_locs_angles(locs_angles)</span>
    <span class="s1">ax.add_artist(ticks_out)</span>


<span class="s1">@image_comparison([</span><span class="s2">'axis_artist_labelbase.png'</span><span class="s1">]</span><span class="s0">, </span><span class="s1">style=</span><span class="s2">'default'</span><span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_labelbase():</span>
    <span class="s4"># Remove this line when this test image is regenerated.</span>
    <span class="s1">plt.rcParams[</span><span class="s2">'text.kerning_factor'</span><span class="s1">] = </span><span class="s3">6</span>

    <span class="s1">fig</span><span class="s0">, </span><span class="s1">ax = plt.subplots()</span>

    <span class="s1">ax.plot([</span><span class="s3">0.5</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">0.5</span><span class="s1">]</span><span class="s0">, </span><span class="s2">&quot;o&quot;</span><span class="s1">)</span>

    <span class="s1">label = LabelBase(</span><span class="s3">0.5</span><span class="s0">, </span><span class="s3">0.5</span><span class="s0">, </span><span class="s2">&quot;Test&quot;</span><span class="s1">)</span>
    <span class="s1">label._ref_angle = -</span><span class="s3">90</span>
    <span class="s1">label._offset_radius = </span><span class="s3">50</span>
    <span class="s1">label.set_rotation(-</span><span class="s3">90</span><span class="s1">)</span>
    <span class="s1">label.set(ha=</span><span class="s2">&quot;center&quot;</span><span class="s0">, </span><span class="s1">va=</span><span class="s2">&quot;top&quot;</span><span class="s1">)</span>
    <span class="s1">ax.add_artist(label)</span>


<span class="s1">@image_comparison([</span><span class="s2">'axis_artist_ticklabels.png'</span><span class="s1">]</span><span class="s0">, </span><span class="s1">style=</span><span class="s2">'default'</span><span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_ticklabels():</span>
    <span class="s4"># Remove this line when this test image is regenerated.</span>
    <span class="s1">plt.rcParams[</span><span class="s2">'text.kerning_factor'</span><span class="s1">] = </span><span class="s3">6</span>

    <span class="s1">fig</span><span class="s0">, </span><span class="s1">ax = plt.subplots()</span>

    <span class="s1">ax.xaxis.set_visible(</span><span class="s0">False</span><span class="s1">)</span>
    <span class="s1">ax.yaxis.set_visible(</span><span class="s0">False</span><span class="s1">)</span>

    <span class="s1">ax.plot([</span><span class="s3">0.2</span><span class="s0">, </span><span class="s3">0.4</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">0.5</span><span class="s0">, </span><span class="s3">0.5</span><span class="s1">]</span><span class="s0">, </span><span class="s2">&quot;o&quot;</span><span class="s1">)</span>

    <span class="s1">ticks = Ticks(ticksize=</span><span class="s3">10</span><span class="s0">, </span><span class="s1">axis=ax.xaxis)</span>
    <span class="s1">ax.add_artist(ticks)</span>
    <span class="s1">locs_angles_labels = [((</span><span class="s3">0.2</span><span class="s0">, </span><span class="s3">0.5</span><span class="s1">)</span><span class="s0">, </span><span class="s1">-</span><span class="s3">90</span><span class="s0">, </span><span class="s2">&quot;0.2&quot;</span><span class="s1">)</span><span class="s0">,</span>
                          <span class="s1">((</span><span class="s3">0.4</span><span class="s0">, </span><span class="s3">0.5</span><span class="s1">)</span><span class="s0">, </span><span class="s1">-</span><span class="s3">120</span><span class="s0">, </span><span class="s2">&quot;0.4&quot;</span><span class="s1">)]</span>
    <span class="s1">tick_locs_angles = [(xy</span><span class="s0">, </span><span class="s1">a + </span><span class="s3">180</span><span class="s1">) </span><span class="s0">for </span><span class="s1">xy</span><span class="s0">, </span><span class="s1">a</span><span class="s0">, </span><span class="s1">l </span><span class="s0">in </span><span class="s1">locs_angles_labels]</span>
    <span class="s1">ticks.set_locs_angles(tick_locs_angles)</span>

    <span class="s1">ticklabels = TickLabels(axis_direction=</span><span class="s2">&quot;left&quot;</span><span class="s1">)</span>
    <span class="s1">ticklabels._locs_angles_labels = locs_angles_labels</span>
    <span class="s1">ticklabels.set_pad(</span><span class="s3">10</span><span class="s1">)</span>
    <span class="s1">ax.add_artist(ticklabels)</span>

    <span class="s1">ax.plot([</span><span class="s3">0.5</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s3">0.5</span><span class="s1">]</span><span class="s0">, </span><span class="s2">&quot;s&quot;</span><span class="s1">)</span>
    <span class="s1">axislabel = AxisLabel(</span><span class="s3">0.5</span><span class="s0">, </span><span class="s3">0.5</span><span class="s0">, </span><span class="s2">&quot;Test&quot;</span><span class="s1">)</span>
    <span class="s1">axislabel._offset_radius = </span><span class="s3">20</span>
    <span class="s1">axislabel._ref_angle = </span><span class="s3">0</span>
    <span class="s1">axislabel.set_axis_direction(</span><span class="s2">&quot;bottom&quot;</span><span class="s1">)</span>
    <span class="s1">ax.add_artist(axislabel)</span>

    <span class="s1">ax.set_xlim(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)</span>
    <span class="s1">ax.set_ylim(</span><span class="s3">0</span><span class="s0">, </span><span class="s3">1</span><span class="s1">)</span>


<span class="s1">@image_comparison([</span><span class="s2">'axis_artist.png'</span><span class="s1">]</span><span class="s0">, </span><span class="s1">style=</span><span class="s2">'default'</span><span class="s1">)</span>
<span class="s0">def </span><span class="s1">test_axis_artist():</span>
    <span class="s4"># Remove this line when this test image is regenerated.</span>
    <span class="s1">plt.rcParams[</span><span class="s2">'text.kerning_factor'</span><span class="s1">] = </span><span class="s3">6</span>

    <span class="s1">fig</span><span class="s0">, </span><span class="s1">ax = plt.subplots()</span>

    <span class="s1">ax.xaxis.set_visible(</span><span class="s0">False</span><span class="s1">)</span>
    <span class="s1">ax.yaxis.set_visible(</span><span class="s0">False</span><span class="s1">)</span>

    <span class="s0">for </span><span class="s1">loc </span><span class="s0">in </span><span class="s1">(</span><span class="s2">'left'</span><span class="s0">, </span><span class="s2">'right'</span><span class="s0">, </span><span class="s2">'bottom'</span><span class="s1">):</span>
        <span class="s1">_helper = AxisArtistHelperRectlinear.Fixed(ax</span><span class="s0">, </span><span class="s1">loc=loc)</span>
        <span class="s1">axisline = AxisArtist(ax</span><span class="s0">, </span><span class="s1">_helper</span><span class="s0">, </span><span class="s1">offset=</span><span class="s0">None, </span><span class="s1">axis_direction=loc)</span>
        <span class="s1">ax.add_artist(axisline)</span>

    <span class="s4"># Settings for bottom AxisArtist.</span>
    <span class="s1">axisline.set_label(</span><span class="s2">&quot;TTT&quot;</span><span class="s1">)</span>
    <span class="s1">axisline.major_ticks.set_tick_out(</span><span class="s0">False</span><span class="s1">)</span>
    <span class="s1">axisline.label.set_pad(</span><span class="s3">5</span><span class="s1">)</span>

    <span class="s1">ax.set_ylabel(</span><span class="s2">&quot;Test&quot;</span><span class="s1">)</span>
</pre>
</body>
</html>