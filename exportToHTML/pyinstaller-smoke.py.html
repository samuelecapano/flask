<html>
<head>
<title>pyinstaller-smoke.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #629755; font-style: italic;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #6897bb;}
.s4 { color: #6a8759;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
pyinstaller-smoke.py</font>
</center></td></tr></table>
<pre><span class="s0">&quot;&quot;&quot;A crude *bit of everything* smoke test to verify PyInstaller compatibility. 
 
PyInstaller typically goes wrong by forgetting to package modules, extension 
modules or shared libraries. This script should aim to touch as many of those 
as possible in an attempt to trip a ModuleNotFoundError or a DLL load failure 
due to an uncollected resource. Missing resources are unlikely to lead to 
arithmetic errors so there's generally no need to verify any calculation's 
output - merely that it made it to the end OK. This script should not 
explicitly import any of numpy's submodules as that gives PyInstaller undue 
hints that those submodules exist and should be collected (accessing implicitly 
loaded submodules is OK). 
 
&quot;&quot;&quot;</span>
<span class="s2">import </span><span class="s1">numpy </span><span class="s2">as </span><span class="s1">np</span>

<span class="s1">a = np.arange(</span><span class="s3">1.</span><span class="s2">, </span><span class="s3">10.</span><span class="s1">).reshape((</span><span class="s3">3</span><span class="s2">, </span><span class="s3">3</span><span class="s1">)) % </span><span class="s3">5</span>
<span class="s1">np.linalg.det(a)</span>
<span class="s1">a @ a</span>
<span class="s1">a @ a.T</span>
<span class="s1">np.linalg.inv(a)</span>
<span class="s1">np.sin(np.exp(a))</span>
<span class="s1">np.linalg.svd(a)</span>
<span class="s1">np.linalg.eigh(a)</span>

<span class="s1">np.unique(np.random.randint(</span><span class="s3">0</span><span class="s2">, </span><span class="s3">10</span><span class="s2">, </span><span class="s3">100</span><span class="s1">))</span>
<span class="s1">np.sort(np.random.uniform(</span><span class="s3">0</span><span class="s2">, </span><span class="s3">10</span><span class="s2">, </span><span class="s3">100</span><span class="s1">))</span>

<span class="s1">np.fft.fft(np.exp(</span><span class="s3">2j </span><span class="s1">* np.pi * np.arange(</span><span class="s3">8</span><span class="s1">) / </span><span class="s3">8</span><span class="s1">))</span>
<span class="s1">np.ma.masked_array(np.arange(</span><span class="s3">10</span><span class="s1">)</span><span class="s2">, </span><span class="s1">np.random.rand(</span><span class="s3">10</span><span class="s1">) &lt; </span><span class="s3">.5</span><span class="s1">).sum()</span>
<span class="s1">np.polynomial.Legendre([</span><span class="s3">7</span><span class="s2">, </span><span class="s3">8</span><span class="s2">, </span><span class="s3">9</span><span class="s1">]).roots()</span>

<span class="s1">print(</span><span class="s4">&quot;I made it!&quot;</span><span class="s1">)</span>
</pre>
</body>
</html>